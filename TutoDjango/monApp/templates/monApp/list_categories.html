{% extends 'monApp/base.html' %}

{% block menu %}
<h1>Liste des catégories</h1>
{% endblock %}

{% block contenu %}
    <h2>{{titremenu}}</h2>
    <table class="table">
        <thead>
            <th>Id</th>
            <th>Nom Catégorie</th>
            <th>Nombre de Produits</th>

        </thead>
        <tbody>
            {% for cate in categories %}
            <tr>
                <td>{{ cate.idCat }} </td>
                <td>{{ cate.nomCat }} </td>
                <td>{{ cate.nb_produits }} </td>
                <td>
                <a href="{% url 'dtl_cate' cate.idCat %}" class="btn btn-primary mt-2">Détails</a>
                <a href="{% url 'cate-chng' cate.idCat %}" class="btn btn-warning mt-2">Modifier</a>
                <a href="{% url 'dlt-cate' cate.idCat %}" class="btn btn-danger mt-2">Supprimer</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <!-- Barre de recherche -->
    <p class="lead mb-3 ml-0">Rechercher un élément...</p>
    <form method="GET" action="">
        <input class="form-control" type="text" name="search" placeholder="Tapez ici votre recherche"
        value="{{ request.GET.search }}">
        <button type="submit" class="btn btn-success mt-2">Rechercher</button>
    </form>
    <p>
    J'ai
    {% if cate|length < 5 %}
    peu de
    {% elif cate|length < 10 %}
    quelques
    {% else %}
    beaucoup de
    {% endif %}
    Catégories préférés.
    </p>
    <a href="{% url 'crt-cate' %}">Créer une nouvelle Catégorie</a>
{% endblock %}